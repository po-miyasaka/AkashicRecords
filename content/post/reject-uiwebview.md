+++  
author = "miyashi"  
title = "LLDBでUIWebViewを使っている箇所を調べる"  
date = "2020-05-02"  
description = ""  
tags = [  
    "LLDB",  
    "iOS",    
    "AppStoreConnect",    
    "UIWebView",    
]  
+++  

------------  
# 概要
2020年の４月末から、UIWebViewを使用しているアプリはAppStoreConnectにアップロードすることができなくなりました。
アプリのメインターゲットでUIWebViewを使用していなくても、依存しているライブラリ内部でUIWebViewを使用している場合も同じようにリジェクトされてしまうので、
LLDBを使用してUIWebViewを使用している箇所を調べます。

# 方法
#### 1. アプリをデバッグ実行する。
#### 2. 任意の箇所でブレークして、デバッグコンソールを表示
#### 3. UIWebViewを使用している箇所に以下の2つの方法でブレークポイントをセット
■ `rbreak UIWebView`コマンドを叩く
rbreakは正規表現を含んだ任意の文字列を指定すると、その文字列を含むシンボル、ファンクションにブレークポイントを設定できるコマンドです。
■ `breakpoint set -p UIWebView -A `コマンドを叩く
「-p」を使うとソースコード内の任意の文字列を含む箇所にブレークポイントを設定してくれます。
また、「-A」を指定するとすべてのモジュールに対してブレークポイントを設定することができます。

#### 4. ブレークポイントの一覧を表示する。
`breakpoint list`コマンドによってブレークポイントの一覧を表示することができる。

#### 5. UIWebViewが使用されている箇所を特定する。
ブレークポイント情報には、モジュールやファイル、ソースコードの行情報が含まれるので、それらの情報からUIWebViewを使用している箇所を特定することができる。
------------

